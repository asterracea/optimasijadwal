<div id="flashModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-60 hidden">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden">
    
    <div class="p-6 text-center space-y-4">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <!-- Icon -->
            <div class="flex justify-center">
              <div class="w-16 h-16 rounded-full flex items-center justify-center
                {% if category == 'success' %} bg-green-100 text-green-600
                {% elif category == 'warning' %} bg-yellow-100 text-yellow-400
                {% elif category == 'danger' or category == 'error' %} border border-4 border-rounded border-red-600 text-red-600
                {% else %} bg-blue-100 text-gray-600 {% endif %}">
                <i class="text-3xl
                  {% if category == 'success' %} fa-solid fa-check
                  {% elif category == 'warning' %} fa-solid fa-triangle-exclamation 
                  {% elif category == 'danger' or category == 'error' %} fa-solid  fa-exclamation 
                  {% else %} fa-solid fa-bell {% endif %}"></i>
              </div>
            </div>

            <!-- Message -->
            <div>
              <h3 class="text-lg font-semibold text-gray-800" id="modal-title">{{ message }}</h3>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>

    <!-- Footer Button -->
    <div class="px-6 py-3 text-center">
      <button onclick="closeFlashModal()" class="bg-[#0074B7] text-white hover:bg-blue-700 text-sm px-4 py-2 rounded">Tutup</button>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script>
  function closeFlashModal() {
    document.getElementById('flashModal').classList.add('hidden');
  }

  window.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById('flashModal');
    const messages = modal.querySelectorAll('#modal-title');
    if (messages.length > 0) {
      modal.classList.remove('hidden');
      // setTimeout(closeFlashModal, 5000); // Auto-close after 5s
    }
  });
</script>
